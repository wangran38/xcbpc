import{_ as m,t as d,x as n,H as h,I as c,J as P,K as f,L as b,M as p,y as o,v as g}from"./DCPh1BYy.js";const v={name:"Pagination",props:{currentPage:{type:Number,required:!0,default:1},pageSize:{type:Number,default:9},totalItems:{type:Number,required:!0,default:0},visiblePageCount:{type:Number,default:5},showJumper:{type:Boolean,default:!0},showInfo:{type:Boolean,default:!0}},data(){return{jumpPage:this.currentPage}},computed:{totalPages(){return this.totalItems<=0?1:Math.ceil(this.totalItems/this.pageSize)},visiblePages(){const t=[],e=this.totalPages,i=this.currentPage,l=this.visiblePageCount;if(e<=l){for(let r=1;r<=e;r++)t.push(r);return t}const u=Math.floor(l/2);let a=i-u,s=i+u;a<1&&(a=1,s=l),s>e&&(s=e,a=e-l+1);for(let r=a;r<=s;r++)t.push(r);return t}},watch:{currentPage(t){this.jumpPage=t}},methods:{handlePrev(){this.currentPage>1&&this.$emit("page-change",this.currentPage-1)},handleNext(){this.currentPage<this.totalPages&&this.$emit("page-change",this.currentPage+1)},handlePageChange(t){t!==this.currentPage&&this.$emit("page-change",t)},handleJump(){let t=this.jumpPage;isNaN(t)||t<1?t=1:t>this.totalPages&&(t=this.totalPages),this.jumpPage=t,t!==this.currentPage&&this.$emit("page-change",t)},getStartItem(){return this.totalItems===0?0:(this.currentPage-1)*this.pageSize+1},getEndItem(){if(this.totalItems===0)return 0;const t=this.currentPage*this.pageSize;return t>this.totalItems?this.totalItems:t}}},I={class:"pagination-container"},x={class:"pagination"},y=["disabled","aria-disabled"],N={class:"page-numbers"},k=["id","onClick"],C=["disabled","aria-disabled"],J={key:0,class:"page-jumper"},_=["max"],j={key:0,class:"pagination-info"};function w(t,e,i,l,u,a){return g(),d("div",I,[n("div",x,[n("button",{class:"pagination-btn prev-btn",onClick:e[0]||(e[0]=(...s)=>a.handlePrev&&a.handlePrev(...s)),disabled:i.currentPage===1,"aria-disabled":i.currentPage===1},e[6]||(e[6]=[n("i",{class:"icon","aria-hidden":"true"},"←",-1),n("span",{class:"text"},"上一页",-1)]),8,y),n("div",N,[(g(!0),d(c,null,P(a.visiblePages,s=>(g(),d("button",{key:s,class:"page-btn",id:s==i.currentPage?"active":"",onClick:r=>a.handlePageChange(s)},o(s),9,k))),128))]),n("button",{class:"pagination-btn next-btn",onClick:e[1]||(e[1]=(...s)=>a.handleNext&&a.handleNext(...s)),disabled:i.currentPage===a.totalPages,"aria-disabled":i.currentPage===a.totalPages},e[7]||(e[7]=[n("span",{class:"text"},"下一页",-1),n("i",{class:"icon","aria-hidden":"true"},"→",-1)]),8,C),i.showJumper?(g(),d("div",J,[e[8]||(e[8]=n("span",{class:"text"},"前往",-1)),f(n("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=s=>u.jumpPage=s),class:"page-input",min:1,max:a.totalPages,onKeydown:e[3]||(e[3]=p((...s)=>a.handleJump&&a.handleJump(...s),["enter"])),onBlur:e[4]||(e[4]=(...s)=>a.handleJump&&a.handleJump(...s)),"aria-label":"输入页码"},null,40,_),[[b,u.jumpPage,void 0,{number:!0}]]),e[9]||(e[9]=n("span",{class:"text"},"页",-1)),n("button",{class:"jump-btn",onClick:e[5]||(e[5]=(...s)=>a.handleJump&&a.handleJump(...s))},"确定")])):h("",!0)]),i.showInfo?(g(),d("div",j,[n("span",null,"显示 "+o(a.getStartItem())+"-"+o(a.getEndItem())+" 项，共 "+o(i.totalItems)+" 项",1)])):h("",!0)])}const B=m(v,[["render",w],["__scopeId","data-v-85f747d2"]]);export{B as default};
