import { g as getShopComments, b as getShopGoods, s as shopList } from './shopping-DrFpzd-f.mjs';
import { f as footerVue, h as headerVue } from './footers-B7xzxPTD.mjs';
import { resolveComponent, mergeProps, useSSRContext } from 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/vue/index.mjs';
import { ssrRenderAttrs, ssrRenderComponent, ssrRenderAttr, ssrInterpolate, ssrRenderList, ssrRenderClass, ssrIncludeBooleanAttr, ssrLooseContain, ssrLooseEqual } from 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/vue/server-renderer/index.mjs';
import { _ as _export_sfc } from './server.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/axios/index.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/ofetch/dist/node.mjs';
import '../_/renderer.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/vue-bundle-renderer/dist/runtime.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/h3/dist/index.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/ufo/dist/index.mjs';
import '../_/nitro.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/destr/dist/index.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/hookable/dist/index.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/node-mock-http/dist/index.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/unstorage/dist/index.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/unstorage/drivers/fs.mjs';
import 'file:///E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/nuxt/dist/core/runtime/nitro/utils/cache-driver.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/unstorage/drivers/fs-lite.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/ohash/dist/index.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/klona/dist/index.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/defu/dist/defu.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/scule/dist/index.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/radix3/dist/index.mjs';
import 'node:fs';
import 'node:url';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/pathe/dist/index.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/unhead/dist/server.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/devalue/index.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/unhead/dist/utils.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/unhead/dist/plugins.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/unctx/dist/index.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/vue-router/dist/vue-router.node.mjs';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/tslib/modules/index.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/zrender.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/util.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/env.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/timsort.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/Eventful.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/Text.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/tool/color.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/Path.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/tool/path.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/matrix.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/vector.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/Transformable.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/Image.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/Group.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/shape/Circle.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/shape/Ellipse.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/shape/Sector.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/shape/Ring.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/shape/Polygon.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/shape/Polyline.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/shape/Rect.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/shape/Line.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/shape/BezierCurve.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/shape/Arc.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/CompoundPath.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/LinearGradient.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/RadialGradient.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/BoundingRect.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/OrientedBoundingRect.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/Point.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/IncrementalDisplayable.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/graphic/helper/subPixelOptimize.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/dom.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/WeakMap.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/LRU.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/contain/text.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/canvas/graphic.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/platform.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/canvas/Painter.js';
import 'file://E:/%E6%B5%B7%E5%8D%97%E7%A7%AF%E5%88%86%E5%AE%9D%E5%85%AC%E5%8F%B8%E5%AE%98%E7%BD%91%E5%BB%BA%E8%AE%BE/CompanyOfficialWebsite/node_modules/zrender/lib/core/event.js';

const _sfc_main = {
  components: {
    headerVue,
    footerVue
  },
  data() {
    return {
      // 店铺ID，从路由参数获取
      shopId: null,
      // 店铺信息
      shopInfo: {
        id: "",
        title: "",
        businesslogo: "",
        banner: "",
        rating: 4.5,
        commentCount: 126,
        goodCommentRate: 96,
        tags: [],
        description: "",
        businessHours: "08:00-21:00",
        phone: "",
        market_address: "",
        deliveryRange: "3\u516C\u91CC\u5185",
        deliveryFee: 5,
        minOrderAmount: 20,
        qualifications: []
      },
      query: { page: 1, limit: 10, isshow: 1 },
      loadLock: false,
      scrollLock: true,
      // 收藏状态
      isCollected: false,
      // 激活的标签页
      activeTab: "goods",
      // 商品相关
      goodsCategories: [],
      // 菜品分类
      allGoods: [],
      selectedCategory: 0,
      goodsSearch: "",
      // 评价相关
      allComments: [],
      commentFilter: "all",
      currentCommentPage: 1,
      commentsPerPage: 10,
      // 购物车
      cartItems: []
    };
  },
  computed: {
    // 筛选后的商品
    filteredGoods() {
      return this.allGoods.filter((goods) => {
        const categoryMatch = this.selectedCategory === 0 || goods.categoryId === this.selectedCategory;
        const searchMatch = !this.goodsSearch || goods.name.toLowerCase().includes(this.goodsSearch.toLowerCase()) || goods.description.toLowerCase().includes(this.goodsSearch.toLowerCase());
        return categoryMatch && searchMatch;
      });
    },
    // 筛选后的评论
    filteredComments() {
      let filtered = [...this.allComments];
      if (this.commentFilter === "good") {
        filtered = filtered.filter((comment) => comment.rating >= 4);
      } else if (this.commentFilter === "medium") {
        filtered = filtered.filter((comment) => comment.rating === 3);
      } else if (this.commentFilter === "bad") {
        filtered = filtered.filter((comment) => comment.rating <= 2);
      }
      const startIndex = (this.currentCommentPage - 1) * this.commentsPerPage;
      return filtered.slice(startIndex, startIndex + this.commentsPerPage);
    },
    // 总评论页数
    totalCommentPages() {
      let filteredCount = this.allComments.length;
      if (this.commentFilter === "good") {
        filteredCount = this.allComments.filter((comment) => comment.rating >= 4).length;
      } else if (this.commentFilter === "medium") {
        filteredCount = this.allComments.filter((comment) => comment.rating === 3).length;
      } else if (this.commentFilter === "bad") {
        filteredCount = this.allComments.filter((comment) => comment.rating <= 2).length;
      }
      return Math.ceil(filteredCount / this.commentsPerPage);
    },
    // 购物车商品总数
    cartTotalCount() {
      return this.cartItems.reduce((total, item) => total + item.quantity, 0);
    },
    // 购物车商品总价
    cartTotalPrice() {
      const goodsTotal = this.cartItems.reduce((total, item) => total + item.price * item.quantity, 0);
      return goodsTotal + (goodsTotal >= this.shopInfo.minOrderAmount ? 0 : this.shopInfo.deliveryFee);
    }
  },
  async mounted() {
    this.shopId = parseInt(this.$route.query.id);
    await this.loadShopDetail();
    await this.loadShopGoods();
    (void 0).addEventListener("scroll", async () => {
      const scrollEnd = (void 0).innerHeight + (void 0).pageYOffset >= (void 0).body.offsetHeight - 200;
      if (scrollEnd && this.scrollLock) {
        this.scrollLock = false;
        this.query.page++;
        await this.loadShopGoods();
        this.scrollLock = true;
      }
    });
  },
  methods: {
    // 加载店铺详情
    async loadShopDetail() {
      try {
        const response = await shopList({ id: this.shopId });
        if (response.code === 200) {
          this.shopInfo = response.data.listdata[0];
        }
      } catch (error) {
        console.error("Failed to load shop detail:", error);
      }
    },
    // 加载商品列表
    async loadShopGoods() {
      if (this.loadLock) {
        return;
      }
      try {
        this.query.shop_id = this.shopId;
        const response = await getShopGoods(this.query);
        if (response.code === 200) {
          this.goodsCategories = response.data.categories || [];
          this.allGoods = [...this.allGoods, ...response.data.listdata];
          this.loadLock = response.data.listdata.length <= 0;
        }
      } catch (error) {
        console.error("Failed to load shop goods:", error);
      }
    },
    // 加载评价列表
    async loadShopComments() {
      try {
        const response = await getShopComments(this.shopId);
        if (response.code === 200) {
          this.allComments = response.data || [];
        }
      } catch (error) {
        console.error("Failed to load shop comments:", error);
      }
    },
    // 切换收藏状态
    toggleCollect() {
      this.isCollected = !this.isCollected;
    },
    // 筛选评论
    filterComments() {
      this.currentCommentPage = 1;
    },
    // 切换评论页
    changeCommentPage(direction) {
      this.currentCommentPage += direction;
    },
    // 格式化日期
    formatDate(timestamp) {
      const date = new Date(timestamp);
      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, "0")}-${date.getDate().toString().padStart(2, "0")}`;
    },
    // 添加到购物车
    addToCart(goods) {
      const existingItem = this.cartItems.find((item) => item.id === goods.id);
      if (existingItem) {
        existingItem.quantity++;
      } else {
        this.cartItems.push({ ...goods, quantity: 1 });
      }
    },
    // 去结算
    goToCheckout() {
      this.$router.push({
        path: "/checkout",
        query: { shopId: this.shopId },
        state: { cartItems: this.cartItems }
      });
    }
  },
  watch: {}
};
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  const _component_headerVue = resolveComponent("headerVue");
  const _component_footerVue = resolveComponent("footerVue");
  _push(`<div${ssrRenderAttrs(mergeProps({ class: "shop-detail-page" }, _attrs))}>`);
  _push(ssrRenderComponent(_component_headerVue, null, null, _parent));
  _push(`<section class="shop-header"><div class="shop-base-info"><div class="container"><div class="shop-logo"><img${ssrRenderAttr("data-src", $data.shopInfo.logo)}${ssrRenderAttr("src", $data.shopInfo.logo)}${ssrRenderAttr("alt", $data.shopInfo.title)} loading="lazy"></div><div class="shop-main-info"><h1 class="shop-title">${ssrInterpolate($data.shopInfo.title)}</h1><div class="shop-rating"><div class="rating-stars"><!--[-->`);
  ssrRenderList(5, (i) => {
    _push(`<span class="star active">\u2605</span>`);
  });
  _push(`<!--]--></div><span class="rating-score">${ssrInterpolate(5)}\u2605</span><span class="rating-count">(${ssrInterpolate(1111)}\u6761\u8BC4\u4EF7)</span></div></div><div class="shop-actions"><button class="contact-btn">\u8054\u7CFB\u5546\u5BB6</button></div></div></div></section><section class="shop-nav"><div class="container"><div class="nav-tabs"><div class="${ssrRenderClass([{ active: $data.activeTab === "goods" }, "tab-item"])}"> \u5546\u54C1\u5217\u8868 </div><div class="${ssrRenderClass([{ active: $data.activeTab === "info" }, "tab-item"])}"> \u5E97\u94FA\u4FE1\u606F </div><div class="${ssrRenderClass([{ active: $data.activeTab === "comments" }, "tab-item"])}"> \u987E\u5BA2\u8BC4\u4EF7 </div></div></div></section>`);
  if ($data.activeTab === "goods") {
    _push(`<section class="goods-list"><div class="container"><div class="goods-filter"><div class="filter-scroll"><div class="${ssrRenderClass([{ active: $data.selectedCategory === 0 }, "filter-item"])}"> \u5168\u90E8\u5546\u54C1 </div></div><div class="search-box"><input type="text"${ssrRenderAttr("value", $data.goodsSearch)} placeholder="\u641C\u7D22\u5546\u54C1"><button class="search-btn">\u{1F50D}</button></div></div><div class="goods-grid"><!--[-->`);
    ssrRenderList($options.filteredGoods, (goods) => {
      _push(`<div class="goods-card"><div class="goods-image"><img${ssrRenderAttr("src", goods.imglogo)}${ssrRenderAttr("data-src", goods.imglogo)}${ssrRenderAttr("alt", goods.commodity_name)} loading="lazy">`);
      if (goods.promotion) {
        _push(`<div class="goods-tag">${ssrInterpolate(goods.promotion)}</div>`);
      } else {
        _push(`<!---->`);
      }
      _push(`</div><div class="goods-info"><h3 class="goods-name">${ssrInterpolate(goods.commodity_name)}</h3><p class="goods-desc">${ssrInterpolate(goods.weight_name)}</p><div class="goods-price"><span class="price">\xA5${ssrInterpolate(goods.price)}</span>`);
      if (goods.price) {
        _push(`<span class="original-price">\xA5${ssrInterpolate(goods.price * 2)}</span>`);
      } else {
        _push(`<!---->`);
      }
      _push(`</div></div></div>`);
    });
    _push(`<!--]--></div>`);
    if ($options.filteredGoods.length === 0) {
      _push(`<div class="no-goods"><p>\u6682\u65E0\u76F8\u5173\u5546\u54C1</p></div>`);
    } else {
      _push(`<!---->`);
    }
    _push(`</div></section>`);
  } else {
    _push(`<!---->`);
  }
  if ($data.activeTab === "info") {
    _push(`<section class="shop-details"><div class="container"><div class="detail-section"><h2 class="section-title">\u5E97\u94FA\u4ECB\u7ECD</h2><div class="shop-description">${ssrInterpolate($data.shopInfo.description)}</div></div><div class="detail-section"><h2 class="section-title">\u8425\u4E1A\u65F6\u95F4</h2><div class="business-hours"><p>${ssrInterpolate($data.shopInfo.businessHours)}</p></div></div><div class="detail-section"><h2 class="section-title">\u8054\u7CFB\u65B9\u5F0F</h2><div class="contact-info"><p><i class="phone-icon"></i> ${ssrInterpolate($data.shopInfo.phone)}</p><p><i class="location-icon"></i> ${ssrInterpolate($data.shopInfo.market_address)}</p></div></div><div class="detail-section"><h2 class="section-title">\u914D\u9001\u4FE1\u606F</h2><div class="delivery-info"><p>\u914D\u9001\u8303\u56F4\uFF1A${ssrInterpolate("5kg")}</p><p>\u914D\u9001\u8D39\uFF1A${ssrInterpolate("\u514D\u8D39")}</p><p>\u8D77\u9001\u4EF7\uFF1A\xA5${ssrInterpolate(50)}</p></div></div><div class="detail-section"><h2 class="section-title">\u5E97\u94FA\u8D44\u8D28</h2><div class="qualifications"><!--[-->`);
    ssrRenderList($data.shopInfo.qualifications, (qual, index) => {
      _push(`<div class="qualification-item"><img${ssrRenderAttr("src", qual)} alt="\u8D44\u8D28\u8BC1\u660E"></div>`);
    });
    _push(`<!--]--></div></div></div></section>`);
  } else {
    _push(`<!---->`);
  }
  if ($data.activeTab === "comments") {
    _push(`<section class="shop-comments"><div class="container"><div class="comments-stats"><div class="stat-item"><div class="stat-value">${ssrInterpolate(5)}</div><div class="stat-label">\u7EFC\u5408\u8BC4\u5206</div></div><div class="stat-item"><div class="stat-value">${ssrInterpolate($data.shopInfo.goodCommentRate)}%</div><div class="stat-label">\u597D\u8BC4\u7387</div></div><div class="stat-item"><div class="stat-value">${ssrInterpolate($data.shopInfo.commentCount)}</div><div class="stat-label">\u8BC4\u4EF7\u6570\u91CF</div></div></div><div class="comments-filter"><select><option value="all"${ssrIncludeBooleanAttr(Array.isArray($data.commentFilter) ? ssrLooseContain($data.commentFilter, "all") : ssrLooseEqual($data.commentFilter, "all")) ? " selected" : ""}>\u5168\u90E8\u8BC4\u4EF7</option><option value="good"${ssrIncludeBooleanAttr(Array.isArray($data.commentFilter) ? ssrLooseContain($data.commentFilter, "good") : ssrLooseEqual($data.commentFilter, "good")) ? " selected" : ""}>\u597D\u8BC4</option><option value="medium"${ssrIncludeBooleanAttr(Array.isArray($data.commentFilter) ? ssrLooseContain($data.commentFilter, "medium") : ssrLooseEqual($data.commentFilter, "medium")) ? " selected" : ""}>\u4E2D\u8BC4</option><option value="bad"${ssrIncludeBooleanAttr(Array.isArray($data.commentFilter) ? ssrLooseContain($data.commentFilter, "bad") : ssrLooseEqual($data.commentFilter, "bad")) ? " selected" : ""}>\u5DEE\u8BC4</option></select></div><div class="comments-list"><!--[-->`);
    ssrRenderList($options.filteredComments, (comment) => {
      _push(`<div class="comment-item"><div class="comment-header"><div class="user-avatar"><img${ssrRenderAttr("src", comment.userAvatar)} alt="\u7528\u6237\u5934\u50CF"></div><div class="user-info"><div class="user-name">${ssrInterpolate(comment.userName)}</div><div class="comment-time">${ssrInterpolate($options.formatDate(comment.createTime))}</div></div><div class="comment-rating"><!--[-->`);
      ssrRenderList(5, (i) => {
        _push(`<span class="${ssrRenderClass([{ active: _ctx.active }, "star"])}">\u2605</span>`);
      });
      _push(`<!--]--></div></div><div class="comment-content">${ssrInterpolate(comment.content)}</div>`);
      if (comment.images.length > 0) {
        _push(`<div class="comment-images"><!--[-->`);
        ssrRenderList(comment.images, (img, index) => {
          _push(`<img${ssrRenderAttr("src", img)}${ssrRenderAttr("alt", _ctx.\u8BC4\u8BBA\u56FE\u7247)}>`);
        });
        _push(`<!--]--></div>`);
      } else {
        _push(`<!---->`);
      }
      if (comment.reply) {
        _push(`<div class="comment-reply"><div class="reply-label">\u5546\u5BB6\u56DE\u590D\uFF1A</div><div class="reply-content">${ssrInterpolate(comment.reply)}</div></div>`);
      } else {
        _push(`<!---->`);
      }
      _push(`</div>`);
    });
    _push(`<!--]--></div>`);
    if ($options.filteredComments.length === 0) {
      _push(`<div class="no-comments"><p>\u6682\u65E0\u8BC4\u4EF7</p></div>`);
    } else {
      _push(`<!---->`);
    }
    if ($options.filteredComments.length > 0) {
      _push(`<div class="pagination"><button class="page-btn prev"${ssrIncludeBooleanAttr($data.currentCommentPage === 1) ? " disabled" : ""}> \u4E0A\u4E00\u9875 </button><button class="page-btn next"${ssrIncludeBooleanAttr($data.currentCommentPage >= $options.totalCommentPages) ? " disabled" : ""}> \u4E0B\u4E00\u9875 </button></div>`);
    } else {
      _push(`<!---->`);
    }
    _push(`</div></section>`);
  } else {
    _push(`<!---->`);
  }
  if ($data.cartItems.length > 0) {
    _push(`<div class="cart-float"><div class="cart-count">${ssrInterpolate($options.cartTotalCount)}</div><div class="cart-info"><div class="cart-total"> \u5408\u8BA1\uFF1A<span class="total-price">\xA5${ssrInterpolate(111)}</span></div><div class="cart-desc">\u5DF2\u542B\u914D\u9001\u8D39</div></div><button class="checkout-btn">\u53BB\u7ED3\u7B97</button></div>`);
  } else {
    _push(`<!---->`);
  }
  _push(ssrRenderComponent(_component_footerVue, null, null, _parent));
  _push(`</div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("pages/storeDetails.vue");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const storeDetails = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);

export { storeDetails as default };
//# sourceMappingURL=storeDetails-CXPQS7tR.mjs.map
